---
title: "Rhinestone Intents (aka Warp)"
mode: "wide"
sidebarTitle: "Rhinestone Intents"
description: "Overview of Rhinestone Intents"
---

<video src="/images/omni-account-chain-abstraction.mp4" muted autoPlay loop />

## What are Intents?
Intents are expressions of desired outcomes that sophisticated third-party actors fulfill. These third-party actors are often referred to as solvers or relayers. Intents are chain- and VM-agnostic. With the right settlement and relayer infrastructure, intents enable fast, cheap, and generalized executions to happen on any blockchain, regardless of where a user has assets to fund the intent.

## Warp: Intent Routing and Execution Engine

### Introduction

**Warp is a blazing-fast intent routing and execution engine**. It utilizes resource locks, account abstraction, and a set of onchain and offchain systems to aggregate settlement layers and orchestrate multi-chain intents through a unified solver market (the “Relayer Market”).

<img
  className="block dark:hidden"
  src="/images/warp_high_level_explainer_light.png"
/>

<img
  className="hidden dark:block"
  src="/images/warp_high_level_explainer_dark.png"
/>

### Components

The core components include:
- **Orchestrator**: An offchain service that performs intent routing, transaction encoding, enforces resource locks (if enabled), and propagates intent operations to the Relayer Market for execution.
- **Relayer Market**: A collection of relayers who listen to intents broadcast by the Orchestrator and then compete for the right to execute.
- **Intent Router**: An onchain component that receives and dispatches intent operations to the relevant smart account and settlement layer(s).
- **Resource Lock (via [The Compact](https://www.rhinestone.dev/blog/rhinestone-collaborates-with-uniswap))**: An onchain component that facilitates optimistic filling on the destination chain before the origin chain claims are processed, enabling faster intent execution.
- **Intent Executor**: An onchain component that facilitates destination chain execution, hooks, and post-fill intent operations. The intent Executor is a module installed on the smart account.

<img
  className="block dark:hidden"
  src="/images/warp_architecture_light.png"
/>

<img
  className="hidden dark:block"
  src="/images/warp_architecture_dark.png"
/>

### The Orchestrator

An offchain entity that transforms user intents into onchain transactions, called “intent operations”, that are then broadcast to the Relayer Market. It indexes user balances, receives intents, finds the optimal crosschain path, builds the transaction data corresponding to the user's intent, and coordinates with the relayer market for execution. When an intent involves locked funds on The Compact, the Orchestrator also plays a crucial role of ensuring users cannot double-spend the solver market (referred to as an [“Allocator” on The Compact](https://github.com/Uniswap/the-compact?tab=readme-ov-file#allocators)).

### Relayer Market

Warp aggregates settlement layers (or intent bridges) through a unified Relayer Market. This enables extreme flexibility when it comes to solving user intents. Importantly, Warp does not aggregate intent-bridge APIs. Instead, it has a custom onchain integration with each settlement layer. Intents are propagated to the Relayer Market, and solvers interact directly with an underlying settlement layer via the Intent Router contracts. 

**Warp intents are broken down into chain-token elements with origin and destination chain transactions**. Each chain-token element can be assigned to an independent settlement layer, thus allowing for Warp intents to consist of multiple input tokens, input chains, and settlement layers. This aggregation enables broad chain and token coverage at the best price by ensuring that each chain-token element is executed via the most cost-effective settlement layer.

### Intent Router

The Intent Router serves as the onchain entry point for Warp intents. It acts as a dynamic dispatch that utilizes adapters to handle intent execution and settlement via the desired settlement layer. The use of adapters on the Intent Router allows Warp to support multiple settlement layers, intent formats, and chain-specific optimizations.

Adapters handle the specific execution semantics required by each settlement layer. As new settlement mechanisms like Across, Eco, Relay, etc. come to market, adapters can be integrated without disrupting the protocol.

### Resource Locks (Optional)

No matter the complexity of the underlying route, Warp intents are atomic, deterministic, and near-instant. To achieve this, Warp employs The Compact, an ownerless ERC-6909 contract that facilitates escrow-based resource locks and intent resolution (settlement) between committed counterparties. Users deposit funds into The Compact and create credible commitments by signing specific actions that any third party can execute in exchange for locked resources.

For more on The Compact, [read our dedicated blog](https://www.rhinestone.dev/blog/rhinestone-collaborates-with-uniswap) or [inspect the open source code](https://github.com/Uniswap/the-compact).

### Single-Click Multi-Chain Operations

Warp supports arbitrary origin-chain and destination-chain operations as part of a single intent without compromising crosschain atomicity and deterministic outcomes. Origin executions are user-authorized operations that run before funds are deposited into the settlement layer. For example, enabling intents to be funded with a token that is not supported by the settlement layer through an origin swap. Destination-chain executions take place after the fill transaction and are guaranteed, given the deterministic nature of Warp’s intents. 

These destination-chain operations are user actions with the user’s account as the msg.sender, a huge quality of life improvement for teams that are stringing together crosschain operations against DeFi protocols that rely on msg.sender for key features. 

### Legible (EIP-712) Multi-Chain Signatures

To support seamless, secure, and gas-efficient execution of cross-chain intents, Rhinestone introduces a purpose-built, legible EIP-712 structure that allows multiple origin chains to participate in a single user intent — without compromising on security or user experience.

This enables:
- A single EIP-712 signature to authorize multi-chain logic, even with added origin chain and/or destination chain operations.
- Per-chain validation using only the relevant component of the EIP-712 envelope, plus cross-referenced hashes.
- Full legibility and structured representation of every execution, without blob encoding or opaque calldata.

## Sequence Diagrams

Each intent is made of two core components:

1. A fill payload that consists of the injected tokens supplied by the Relayer, plus calldata for destination chain operations.
2. A claim payload that consists of origin chain operations plus a deposit into the chosen settlement layer to repay the Relayer on all included origin chains.  

### Fill Sequence: Destination chain execution(s)

<img
  className="block"
  src="/images/fill_sequence.png"
/>

### Claim Sequence: Origin chain execution(s)

<img
  className="block"
  src="/images/claim_sequence.png"
/>
