---
title: "Unified Balance"
---

The Omni Account uses the aggregated balance of user's funds across all supported chains, taking into account any outstanding intents.

To get the aggregated portfolio of tokens:

```ts
const portfolio = rhinestoneAccount.getPortfolio()
```

To get the aggregated portfolio of testnet tokens:

```ts
const onTestnets = true
const portfolio = rhinestoneAccount.getPortfolio(onTestnets)
```

This will return the list of *spendable* tokens (i.e., not part of any pending transaction).

## Max Spendable Amount

Often, you want to let the user spend the maximum possible amount of tokens for a transaction (e.g. deposit all available USDC into a savings vault).

While the `getPortfolio` util provides the total spendable balance, it doesn't take into account the execution fee, as it is chain-specific and depends on the transaction gas cost.

To get an estimate of the maximum amount of token you can spend on a given transaction, use `getMaxSpendableAmount`:

```ts
const usdcAddress = getTokenAddress('USDC', baseSepolia.id)
const gasUnits = 200_000n

const tokenAmount = rhinestoneAccount.getMaxSpendableAmount(baseSepolia.id, usdcAddress, gasUnits)
```

